{"@context":"http://schema.org","@type":"CreativeWork","name":"Operation Path Naming","text":"\u003ch1\u003eOperation Path Naming\u003c/h1\u003e\n\n\u003cp\u003eWith API Platform Core, you can configure the default resolver used to generate operation paths.\nPre-registered resolvers are available and can easily be overridden.\u003c/p\u003e\n\n\u003ch2\u003eConfiguration\u003c/h2\u003e\n\n\u003cp\u003eThere are two pre-registered operation path naming services:\u003c/p\u003e\n\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eService name\u003c/th\u003e\n\u003cth\u003eEntity name\u003c/th\u003e\n\u003cth\u003ePath result\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eapi_platform.operation_path_resolver.underscore\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003eMyResource\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e/my_resources\u003c/code\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\n\u003ctr\u003e\n\u003ctd\u003e\u003ccode\u003eapi_platform.operation_path_resolver.dash\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003eMyResource\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e/my-resources\u003c/code\u003e\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\n\u003cp\u003eThe default resolver is \u003ccode\u003eapi_platform.operation_path_resolver.underscore\u003c/code\u003e.\nTo change it to the dash resolver, add the following lines to \u003ccode\u003eapp/config/config.yml\u003c/code\u003e:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# app/config/config.yml\n\napi_platform:\n    default_operation_path_resolver: \u0026#39;api_platform.operation_path_resolver.dash\u0026#39;\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch2\u003eCreate a Custom Operation Path Resolver\u003c/h2\u003e\n\n\u003cp\u003eLetâ€™s assume we need URLs without separators (e.g. \u003ccode\u003eapi.tld/myresources\u003c/code\u003e)\u003c/p\u003e\n\n\u003ch3\u003eDefining the Operation Path Resolver\u003c/h3\u003e\n\n\u003cp\u003eMake sure the custom resolver implements \u003ca href=\"https://github.com/api-platform/core/blob/master/src/PathResolver/OperationPathResolverInterface.php\"\u003e\u003ccode\u003eApiPlatform\\Core\\PathResolver\\OperationPathResolverInterface\u003c/code\u003e\u003c/a\u003e:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026lt;?php\n\n// src/AppBundle/PathResolver/NoSeparatorsOperationPathResolver.php\n\nnamespace AppBundle\\PathResolver;\n\nuse ApiPlatform\\Core\\PathResolver\\OperationPathResolverInterface;\nuse Doctrine\\Common\\Inflector\\Inflector;\n\nfinal class NoSeparatorsOperationPathResolver implements OperationPathResolverInterface\n{\n    public function resolveOperationPath(string $resourceShortName, array $operation, bool $collection) : string\n    {\n        $path = Inflector::pluralize(strtolower($resourceShortName));\n        if (!$collection) {\n            $path .= \u0026#39;/{id}\u0026#39;;\n        }\n        $path .= \u0026#39;.{_format}\u0026#39;;\n\n        return $path;\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eNote that \u003ccode\u003e$resourceShortName\u003c/code\u003e contains a camel case string, by default the resource class name (e.g. \u003ccode\u003eMyResource\u003c/code\u003e).\u003c/p\u003e\n\n\u003ch3\u003eRegistering the Service\u003c/h3\u003e\n\n\u003cp\u003e\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# src/AppBundle/Resources/config/services.yml\n\nservices:\n    app.operation_path_resolver.no_separators:\n        class: \u0026#39;AppBundle\\\\PathResolver\\\\NoSeparatorsOperationPathResolver\u0026#39;\n        public: false\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-xml\"\u003e\u0026lt;!-- src/AppBundle/Resources/config/services.xml --\u0026gt;\n\n\u0026lt;?xml version=\u0026#34;1.0\u0026#34; encoding=\u0026#34;UTF-8\u0026#34; ?\u0026gt;\n\u0026lt;services\u0026gt;\n    \u0026lt;service id=\u0026#34;app.operation_path_resolver.no_separators\u0026#34; class=\u0026#34;AppBundle\\PathResolver\\NoSeparatorsOperationPathResolver\u0026#34; public=\u0026#34;false\u0026#34; /\u0026gt;\n\u0026lt;/services\u0026gt;\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003e\u003c/p\u003e\n\n\u003ch3\u003eConfigure It\u003c/h3\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# app/config/config.yml\n\napi_platform:\n    default_operation_path_resolver: \u0026#39;app.operation_path_resolver.no_separators\u0026#39;\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003ePrevious chapter: \u003ca href=\"performance.jsonld\"\u003ePerformance\u003c/a\u003e\nNext chapter: \u003ca href=\"fosuser-bundle.jsonld\"\u003eFOSUserBundle Integration\u003c/a\u003e\u003c/p\u003e\n","author":[{"@type":"Person","Name":"Ener-Getick","email":"egetick@gmail.com"},{"@type":"Person","Name":"Kevin Saliou","email":"kevin@saliou.name"}],"dateCreated":"2016-08-17T22:54:47+02:00","dateModified":"2016-09-30T11:19:24+02:00"}