{"@context":"http://schema.org","@type":"CreativeWork","name":"Pagination","text":"\u003ch1\u003ePagination\u003c/h1\u003e\n\n\u003cp\u003eAPI Platform Core has native support for paged collections. Pagination is enabled by default for all collections. Each collections\ncontains 30 items per page.\nThe activation of the pagination and the number of elements per page can be configured from:\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ethe server-side (globally or per resource)\u003c/li\u003e\n\u003cli\u003ethe client-side, via a custom GET parameter (disabled by default)\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eWhen issuing a \u003ccode\u003eGET\u003c/code\u003e request on a collection containing more than 1 page (here \u003ccode\u003e/books\u003c/code\u003e), a \u003ca href=\"http://www.hydra-cg.com/spec/latest/core/#collections\"\u003eHydra collection\u003c/a\u003e\nis returned. It’s a valid JSON(-LD) document containing items of the requested page and metadata.\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-json\"\u003e{\n  \u0026#34;@context\u0026#34;: \u0026#34;/contexts/Book\u0026#34;,\n  \u0026#34;@id\u0026#34;: \u0026#34;/books\u0026#34;,\n  \u0026#34;@type\u0026#34;: \u0026#34;hydra:Collection\u0026#34;,\n  \u0026#34;hydra:member\u0026#34;: [\n    {\n      \u0026#34;@id\u0026#34;: \u0026#34;/books/1\u0026#34;,\n      \u0026#34;@type\u0026#34;: \u0026#34;http://schema.org/Book\u0026#34;,\n      \u0026#34;name\u0026#34;: \u0026#34;My awesome book\u0026#34;\n    },\n    {\n        \u0026#34;_\u0026#34;: \u0026#34;Other items in the collection...\u0026#34;\n    },\n  ],\n  \u0026#34;hydra:totalItems\u0026#34;: 50,\n  \u0026#34;hydra:view\u0026#34;: {\n    \u0026#34;@id\u0026#34;: \u0026#34;/books?page=1\u0026#34;,\n    \u0026#34;@type\u0026#34;: \u0026#34;hydra:PartialCollectionView\u0026#34;,\n    \u0026#34;hydra:first\u0026#34;: \u0026#34;/books?page=1\u0026#34;,\n    \u0026#34;hydra:last\u0026#34;: \u0026#34;/books?page=2\u0026#34;,\n    \u0026#34;hydra:next\u0026#34;: \u0026#34;/books?page=2\u0026#34;\n  }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eHypermedia links to the first, the last, previous and the next page in the collection are displayed as well as the number\nof total items in the collection.\u003c/p\u003e\n\n\u003cp\u003eThe name of the page parameter can be changed with the following configuration:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# app/config/config.yml\n\napi_platform:\n    collection:\n        page_parameter_name: _page\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch2\u003eDisabling the Pagination\u003c/h2\u003e\n\n\u003cp\u003ePaginating collection is generally accepted as a good practice. It also allows browsing large collections without to much\noverhead as well as preventing \u003ca href=\"https://en.wikipedia.org/wiki/Denial-of-service_attack\"\u003eDOS attacks\u003c/a\u003e.\nIt allows to browse large collections and prevent. However, for small collections, it can be convenient to fully disable\nthe pagination.\u003c/p\u003e\n\n\u003ch3\u003eGlobally\u003c/h3\u003e\n\n\u003cp\u003eThe pagination can be disabled for all resources using this configuration:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# app/config/config.yml\n\napi_platform:\n    collection:\n        pagination:\n            enabled: false\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch3\u003eFor a Specific Resource\u003c/h3\u003e\n\n\u003cp\u003eIt can also be disabled for specific resource:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026lt;?php\n\n// src/AppBundle/Entity/Book.php\n\nuse ApiPlatform\\Core\\Annotation\\ApiResource;\n\n/**\n * @ApiResource(attributes={\u0026#34;pagination_enabled\u0026#34;=true})\n */\nclass Book\n{\n    // ...\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch3\u003eClient-side\u003c/h3\u003e\n\n\u003ch4\u003eGlobally\u003c/h4\u003e\n\n\u003cp\u003eYou can configure API Platform Core to let the client enable or disable the pagination. To activate this feature globally,\nuse the following configuration:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# app/config/config.yml\n\napi_platform:\n    collection:\n        pagination:\n            client_enabled: true\n            enabled_parameter_name: pagination # optional\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eThe pagination can now be enabled or disabled by adding a query parameter named \u003ccode\u003epagination\u003c/code\u003e:\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eGET /books?pagination=false\u003c/code\u003e: disabled\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eGET /books?pagination=true\u003c/code\u003e: enabled\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eAny value accepted by the \u003ca href=\"http://php.net/manual/en/filter.filters.validate.php\"\u003e\u003ccode\u003eFILTER_VALIDATE_BOOLEAN\u003c/code\u003e\u003c/a\u003e filter can be\nused as the value.\u003c/p\u003e\n\n\u003ch4\u003eFor a specific resource\u003c/h4\u003e\n\n\u003cp\u003eThe client ability to disable the pagination can also be set in the resource configuration:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026lt;?php\n\n// src/AppBundle/Entity/Book.php\n\nuse ApiPlatform\\Core\\Annotation\\ApiResource;\n\n/**\n * @ApiResource(attributes={\u0026#34;pagination_client_enabled\u0026#34;=true})\n */\nclass Book\n{\n    // ...\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch2\u003eChanging the Number of Items per Page\u003c/h2\u003e\n\n\u003cp\u003eIn the same manner, the number of items per page is configurable and can be set client-side.\u003c/p\u003e\n\n\u003ch3\u003eGlobally\u003c/h3\u003e\n\n\u003cp\u003eThe number of items per page can be configured for all resources:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# app/config/config.yml\n\napi_platform:\n    collection:\n        pagination:\n            items_per_page: 30 # Default value\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch3\u003eFor a Specific Resource\u003c/h3\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026lt;?php\n\n// src/AppBundle/Entity/Book.php\n\nuse ApiPlatform\\Core\\Annotation\\ApiResource;\n\n/**\n * @ApiResource(attributes={\u0026#34;pagination_items_per_page\u0026#34;=30})\n */\nclass Book\n{\n    // ...\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003ch3\u003eClient-side\u003c/h3\u003e\n\n\u003ch4\u003eGlobally\u003c/h4\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-yaml\"\u003e# app/config/config.yml\n\napi_platform:\n    collection:\n        pagination:\n            client_items_per_page: true # Disabled by default\n            items_per_page_parameter_name: itemsPerPage # Default value\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eThe number of items per page can now be changed adding a query parameter named \u003ccode\u003eitemsPerPage\u003c/code\u003e: \u003ccode\u003eGET /books?itemsPerPage=20\u003c/code\u003e\u003c/p\u003e\n\n\u003ch4\u003eFor a Specific Resource\u003c/h4\u003e\n\n\u003cp\u003eChanging the number of items per page can be enabled (or disabled) for a specific resource:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode class=\"language-php\"\u003e\u0026lt;?php\n\n// src/AppBundle/Entity/Book.php\n\nuse ApiPlatform\\Core\\Annotation\\ApiResource;\n\n/**\n * @ApiResource(attributes={\u0026#34;pagination_client_items_per_page\u0026#34;=true})\n */\nclass Book\n{\n    // ...\n}\n\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003ePrevious chapter: \u003ca href=\"validation.jsonld\"\u003eValidation\u003c/a\u003e\nNext chapter: \u003ca href=\"events.jsonld\"\u003eThe Event System\u003c/a\u003e\u003c/p\u003e\n","author":[{"@type":"Person","Name":"Kévin Dunglas","email":"dunglas@gmail.com"},{"@type":"Person","Name":"Kévin Dunglas","email":"dunglas@gmail.com"},{"@type":"Person","Name":"Kevin Saliou","email":"kevin@saliou.name"},{"@type":"Person","Name":"Kevin Saliou","email":"kevin@saliou.name"},{"@type":"Person","Name":"Kevin Saliou","email":"kevin@saliou.name"}],"dateCreated":"2016-06-21T08:37:42+02:00","dateModified":"2016-09-30T11:19:24+02:00"}